# Test that bloaty handles DW_EH_PE_omit in .eh_frame_hdr correctly.
# RUN: %yaml2obj %s -o %t.o
# RUN: %bloaty %t.o -d symbols | %FileCheck %s

# CHECK: TOTAL

--- !ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_REL
  Machine:         EM_X86_64
Sections:
  - Name:            .eh_frame_hdr
    Type:            SHT_PROGBITS
    Flags:           [ SHF_ALLOC ]
    # version=1, eh_frame_ptr_enc=DW_EH_PE_udata4(0x03), fde_count_enc=DW_EH_PE_omit(0xff), table_enc=DW_EH_PE_udata4(0x03)
    # eh_frame_ptr=0x00000000 (4 bytes)
    Content:         '0103ff0300000000'